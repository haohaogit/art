<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link href="../css/imago.css" rel="stylesheet" type="text/css"/>
	<link href="../css/loginDialog.css" rel="stylesheet" type="text/css"/>
	<link href="../css/lunbo.css" rel="stylesheet" type="text/css"/>

	<script type="text/javascript" src="../js/jquery-1.8.2.min.js"></script>
	<title>意象映射-意象映射系统</title>
	<style>
		#warmcolor{
			background-color: #a39f9f;
			width: 106px;
			float: left;
			height: 37px;
			
		}
		#coldcolor{
			margin-left: 2px;
    		background-color: #00A5BD;
			width: 106px;
			float: left;
			height: 37px;
		}
		

	</style>
</head>
<body>
	<script type="text/javascript" src="../js/imago.js"></script>
	<script type="text/javascript">
		var timeid;
        $(document).ready(function () {
            $('.configHead').load('conheader_yixiang.html');
            $('.configFoot').load('confooter.html');
            
            var loc = location.href;
		  	var n1 = loc.length;//地址的总长度
		  	var n2 = loc.indexOf("=");//取得=号的位置
		  	timeid = decodeURI(loc.substr(n2+1, n1-n2));//从=号后面的内容 
		  	var geneimg = "../image/cookerColor_"+timeid+".jpg";
		  	$(".picimg").attr("src",geneimg);
		  	debugger;
		  	$.ajax("getcolor?tname=燃气灶",
	                // 发送请求的URL字符串
	                {
	                    type: "get",      //
	                    async:true,  //
	                    success: function(data){
							//alert("facade newcase goblet test length="+data.length);
							filllunbo(data);
							//alert("gasAhtml "+GASbHtml);
							/* $(".panelColor").css({display:'block'});
							$(".switchColor").css({display:'none'}); */
							//alert("successful")
	                    },
	                    error: function(){
	                        alert("数据发送失败denglu");
	                    }
	                });
		  	
        });
</script>
	<!-- 	头部 -->
	<div class="configHead"></div>
	
	<div id="content">

		<div id="leftBody">
			<div id="setParam">
				<a href="javascript:void(0)" id="paramToggle">
					<div id="paraIcon"> <img src="../image/setparam.png"></div>
					<div id="paraWord" style="margin-left: 50px;">1.参数设置<div class="left-arrow1 arrow1" style="margin-top: -1px;margin-left: 25px;">&lt;</div></div>
				</a>
				<ul id="paramContent">
					<li><a href="javascript:void(0)" id="paragoblet" class="param">高脚杯</a></li>
					<li><a href="javascript:void(0)" id="parayacht" class="param">游艇</a></li>
					<li><a href="javascript:void(0)" id="parahanky" class="param">织物</a></li>
					<li><a href="javascript:void(0)" id="pararange" class="param">燃气灶</a></li>
				</ul>
			</div>
			<div id="geneStyle">
				<a href="javascript:void(0)" id="geneToggle">
					<div id="paraIcon"> <img src="../image/genestyle.png"></div>
					<div id="paraWord" style="margin-left: 50px;">2.造型生成<div class="left-arrow1 arrow2" style="margin-top: -1px;margin-left: 25px;">&lt;</div></div>
				</a>
				<ul id="geneContent">
					<li><a href="javascript:void(0)" id="genegoblet" class="errorOperate">高脚杯</a></li>
					<li><a href="javascript:void(0)" id="geneyacht" class="errorOperate">游艇</a></li>
					<li><a href="javascript:void(0)" id="genehanky" class="errorOperate">织物</a></li>
					<li><a href="javascript:void(0)" id="generange" class="errorOperate">燃气灶</a></li>
				</ul>
			</div>
			<div id="adjustStyle">
				<a href="javascript:void(0)" id="adjustToggle">
					<div id="paraIcon"> <img src="../image/adjuststyle.png"></div>
					<div id="paraWord" style="margin-left: 50px;">3.造型调整<div class="left-arrow1 arrow3" style="margin-top: -1px;margin-left: 25px;">&lt;</div></div>
					
				</a>
				<ul id="adjustContent">
					<li><a href="javascript:void(0)" id="colorAdjust" class="errorOperate">色彩调整</a></li>
					<img src="../images/genestyle/navigatebar.png" class="pimg">
					<li><a href="javascript:void(0)" id="textureAdjust" class="errorOperate">材质调整</a></li>
					<img src="../images/genestyle/navigatebar.png" class="pimg">
					<li><a href="javascript:void(0)" id="partAdd" class="errorOperate">部件添加</a></li>
				</ul>
			</div>
			<div id="bottomcolor"></div>
		</div>
		<div id="rightBody">
			<div id="iconAndcorpus">
				<div id="introicon"><img  src="../image/gascooker.png" style="width: 105px;" /></div>
				<div id="introduce">
					<lable id="corpus">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在色彩调整步骤中，用户可以在操作窗口选择不同的色彩方案并预览。</lable>
				</div>
			</div>
			<!-- <div id="picGene" style="margin-top: 40px;">
				
				<canvas id="myCanvas" width="800" height="400" style="border:1px solid #d3d3d3;background:#ffffff;">
					<p class="p2">画布：</p>
					<img src="../../images/cookerColor.png">
				</canvas>
			</div> -->
			
			<div id="picGene1" style="" >
				<div class="picfont" style="background:#00A5BD;width:145px; height:37px; ">
					色彩方案预览
				</div>
				<img class="picimg" src="" >
			</div>
			
			<div id="partStyle" style="height:37px;">
				<div id="warmcolor">
					<a href="javascript:void(0)" id="beidu1" >开关颜色</a>
				</div>
				<div id="coldcolor">
					<a href="javascript:void(0)" id="beibing1" >面板颜色</a>
				</div>
				
			</div>
			

			<div id="lunbo">
				<div id="lunbo1">
					<div class="left-arrow arrow">&lt;</div>
					<div class="right-arrow arrow">&gt;</div>
					<div class="lunbo-window">
						
						
					</div>
				</div>
				<!-- 此处加载色彩方案图片轮播模块 -->
			</div>

			
		</div>
	</div>
	<div id="geneBottomBtn">
		<button type="submit" id="save" onclick="saveColor()">确定</button>
		<button type="submit" class="cancel">取消</button>
		<button type="submit" class="cancel" onclick="returned()">返回上一步</button>
	</div>

	<!-- 	底部 -->
	<div class="configFoot"></div>

	<script type="text/javascript" src="../js/lunbo.js"></script>
	<script type="text/javascript">
		function returned(){
  			window.history.back(-1);
  		}
  		
	</script>

	<script type="text/javascript">
		
		function saveColor(){
			//alert("燃气灶色彩保存，然后调整材质");
			window.location.href="imago_adjust_texture_gascooker.html?timeid="+timeid;
		}
		
		$(".lunbo-window").on("click",".LColor",function(){
			debugger;
			var index = parseInt($(this).attr('data-itemid'));
	        var ss = $(this).html();
	        var crgb = $(ss).attr('alt');
	        //alert("crgb "+crgb);
	        //alert("timeid "+timeid);
	        $.ajax("adjust/color/gascooker/"+timeid+"?crgb="+crgb,
	                // 发送请求的URL字符串
	                {
	                    type: "get",      //
	                    async:true,  //
	                    success: function(data){
	                    window.location.reload(); 
	                    },
	                    error: function(){
	                        alert("调整颜色失败");
	                    }
	                });
	        that.moveToCenter(index);
		});
		$(".lunbo-window").on("click",".bLColor",function(){
			debugger;
			var index = parseInt($(this).attr('data-itemid'));
	        var ss = $(this).html();
	        var crgb = $(ss).attr('alt');
	        //alert("crgb "+crgb);
	        //alert("timeid "+timeid);
	        $.ajax("adjust/color/gascooker/"+timeid+"?crgb="+crgb,
	                // 发送请求的URL字符串
	                {
	                    type: "get",      //
	                    async:true,  //
	                    success: function(data){
	                    window.location.reload(); 
	                    },
	                    error: function(){
	                        alert("调整颜色失败");
	                    }
	                });
	        that.moveToCenter(index);
		});


	</script>


	<script type="text/javascript">
	$("#geneContent").fadeOut(0);
	$("#paramContent").fadeOut(0);
	$(".arrow1").css({transform:'rotate(270deg)'});
	$(".arrow2").css({transform:'rotate(270deg)'});
	//$("#bottomcolor").fadeOut(0);
	$("#colorAdjust").css({color:'#00a5bd'});

	$("#paramToggle").click(function(){
			$("#paramContent").fadeIn(0);
			$("#geneContent").fadeOut(0);
			$("#adjustContent").fadeOut(0);
			$("#bottomcolor").fadeOut(0);
			$(".arrow1").css({transform:'rotate(90deg)'});
			$(".arrow2").css({transform:'rotate(270deg)'});
			$(".arrow3").css({transform:'rotate(270deg)'});
		});
	$("#geneToggle").click(function(){
		$("#paramContent").fadeOut(0);
			$("#geneContent").fadeIn(0);
			$("#adjustContent").fadeOut(0);
			$("#bottomcolor").fadeOut(0);
			$(".arrow1").css({transform:'rotate(270deg)'});
			$(".arrow2").css({transform:'rotate(90deg)'});
			$(".arrow3").css({transform:'rotate(270deg)'});
		});
	$("#adjustToggle").click(function(){
		$("#paramContent").fadeOut(0);
			$("#geneContent").fadeOut(0);
			$("#adjustContent").fadeIn(0);
			$(".arrow1").css({transform:'rotate(270deg)'});
			$(".arrow2").css({transform:'rotate(270deg)'});
			$(".arrow3").css({transform:'rotate(90deg)'});
			$("#bottomcolor").fadeIn(0);
		});



  		$("#paragoblet").click(function(){
    		// $("#paramSet").html("111111111111111111");
    		window.location.href="imago.html?txt=paragoblet";
  		});
  		$("#parayacht").click(function(){
    		// $("#paramSet").html("222222222222222222");
    		window.location.href="imago.html?txt=parayacht";
  		});
  		$("#parahanky").click(function(){
    		// $("#paramSet").html("333333333333333333");
    		window.location.href="imago.html?txt=parahanky";
  		});
  		$("#pararange").click(function(){
    		// $("#paramSet").html("444444444444444444");
    		window.location.href="imago.html?txt=pararange";
  		});



  		$('.errorOperate').click(function(){
  			alert("请您先确认是否保存语义参数，然后按照顺序操作！");
  		});
  		
  		$("#beibing1").click(function(){
  			document.getElementById('coldcolor').style.backgroundColor='#00A5BD';
  			document.getElementById('warmcolor').style.backgroundColor='#a39f9f';
  			
  			$(".lunbo-window").html(GASbHtml);
  			AddCarousel();
  			});
  		$("#beidu1").click(function(){
  			document.getElementById('coldcolor').style.backgroundColor='#a39f9f';
  			document.getElementById('warmcolor').style.backgroundColor='#00A5BD';
  			$(".lunbo-window").html(GASaHtml);
  			AddCarousel();
  			
  		});

  		
  		
	</script>
</body>
</html>