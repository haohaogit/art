<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"></meta>
<link href="../css/home.css" rel="stylesheet" type="text/css" />
<link href="../css/loginDialog.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../js/jquery-1.8.2.min.js"></script>
<title>意象映射</title>
<style type="text/css">
	.backcolor{
		/*background-color: #23e7ef;*/
		background-color: #00a5bd;
		display: flex;
		justify-content: center;
		align-items: center;
		color: white;
		font-size: 21px;
		font-weight: 600;
	}
	.navigation{
		display: flex;
		height: 96px;
	}

</style>
</head>
<body>
	<script type="text/javascript">
	        $(document).ready(function () {
	 			//alert(11);
	            $('#rightHead').load('html/righthead.html');
	            
	        });
	</script>
<div id="header">
		<div id="logo">
			<img src="images/first/homeLogo.png" />
		</div>
		<div class="navigation">
			<div class="backcolor first" style="width: 124px; background-color: #23e7ef;">
				<div>
					首页
				</div>
			</div>

			<div class="backcolor corpus" style="width: 133px;">
				<div>
					语义库
				</div>
			</div>

			<div class="backcolor facade" style="width: 133px;">
				<div>
					外观库
				</div>
			</div>

			<div class="backcolor imago" style="width: 190px;">
				<div>
					意象造型系统
				</div>
			</div>

			<div id="rightHead">
				1111
			</div>
			<!-- <ul>
				<li><a href="index.html"><img
						src="images/appearance/generate/navigationHome.png"></a></li>
				<li><a href="html/corpus_basic.html"><img
						src="images/first/navigationCorpus.png"></a></li>
				<li><a><img
						src="images/appearance/generate/navigationFacade.png"></a></li>
				<li><a href="html/imago.html"><img 
						src="images/first/navigationImago.png"></a></li>
			</ul> -->
		</div>
		
	</div>
<script type="text/javascript">

		$('.first').click(function(){
			// window.location.href="../index.html";
		});
		$('.corpus').click(function(){
			window.location.href="html/corpus_basic.html?txt=firstChar";
		});

		$('.facade').click(function(){
			window.location.href="html/facade.html?txt=baseGoblet";
		});

		$('.imago').click(function(){
			window.location.href="html/imago.html?txt=paragoblet";
		});


		function loginCheck() {
			var account = document.getElementById("account");
			var password = document.getElementById("password");
			if (account.value == "") {
				alert("请输入账号");
				return false;
			} else if (password.value == "") {
				alert("请输入密码");
				return false;
			}
		}
	</script>
	<div id="LoginBox">
<!-- 		<form action="customerLogin" method="post" -->
<!-- 			onSubmit="return loginCheck()"> -->
			
			<div class="rowTitle">
				意象造型映射<a href="javascript:void(0)" title="关闭窗口" class="close_btn"
					id="closeBtn">×</a>
			</div>
			<div class="row">
				<span>账号</span> <br>
				<div class="inputBox">
					<input type="text" class="txt" id="account" name="account"
						placeholder="账号" />
				</div>
			</div>
			<div class="row">
				<span>密码</span><br>
				<div class="inputBox">
					<input type="password" class="txt" id="password" name="password"
						placeholder="密码" />
				</div>
			</div>
			<div class="row">
				<button type="submit" id="loginbtn" onclick="">登录</button>
			</div>
			
<!-- 		</form> -->
		<div id="loginHint">
			还没有账号？<a href="javascript:void(0)" id="turnToRegister">注册</a>
		</div>
		<script type="text/javascript">
			$("#turnToRegister").on('click', function() {
				$("#LoginBox").fadeOut(0);
				$("#RegisterBox").fadeIn(0);
			})
		</script>
	</div>
	<script type="text/javascript">
		$(function($) {
			//弹出登录
			$("#loginBtn").hover(function() {
				$(this).stop().animate({
					opacity : '1'
				}, 600);
			}, function() {
				$(this).stop().animate({
					opacity : '0.6'
				}, 1000);
			}).on('click', function() {
				$("body").append("<div id='mask'></div>");
				$("#mask").addClass("mask").fadeIn("slow");
				$("#LoginBox").fadeIn("slow");
			});
			//
			//按钮的透明度
			$("#loginbtn").hover(function() {
				$(this).stop().animate({
					opacity : '1'
				}, 600);
			}, function() {
				$(this).stop().animate({
					opacity : '0.8'
				}, 1000);
			});
			//关闭
			$(".close_btn").hover(function() {
				$(this).css({
					color : 'black'
				})
			}, function() {
				$(this).css({
					color : '#51A3BB'
				})
			}).on('click', function() {
				$("#LoginBox").fadeOut("fast");
				$("#mask").css({
					display : 'none'
				});
			});
		});
		
		$("#loginbtn").on('click',function(){
			
			sendLoginContent($("#account").val(),$("#password").val());
		})
		function sendLoginContent(name,password){
			alert(name+password);
// 			$.ajax("${pageContext.request.contextPath}/search/facade",
			$.ajax("customerLogin",
				// 发送请求的URL字符串
				{
					dataType : "json", //
					type: "post",      //
					contentType: "application/json",  //
					data: JSON.stringify({uname:name,upassword:password}),
					async:true,  //
					success: function(data){
						$("#username").css({display:'block'});
						$(".loginSucc").css({display:'none'});
						
						$("#p1").html(data.uname);
						
						$("#LoginBox").fadeOut("fast");
						
						$("#mask").css({
							display : 'none'
						});
						alert("数据发送成功denglu");
					},
					error: function(){
						alert("数据发送失败denglu");
					}
				});
		}
		
		
	</script>
	<script type="text/javascript">
		function registerCheck() {
			var newAccount = document.getElementById("newAccount");
			var newPassword = document.getElementById("newPassword");
			if (newAccount.value == "") {
				alert("请输入账号");
				return false;
			} else if (newPassword.value == "") {
				alert("请输入密码");
				return false;
			}
		}
	</script>
	<div id="RegisterBox">
<!-- 		<form action="customerRegister.do" method="post" -->
<!-- 			onSubmit="return registerCheck()"> -->
			<div class="rowTitle">
				意象造型映射<a href="javascript:void(0)" title="关闭窗口" class="close_btn"
					id="closeBtn">×</a>
			</div>
			<div class="row">
				用户号:
				<div class="inputBox">
					<input type="text" class="txt" id="newAccount" name="newAccount"
						placeholder="用户名不超过16位字符" />
				</div>
			</div>
			<div class="row">
				<span>邮箱:</span>
				<div class="inputBox">
					<input type="text" class="txt" id="newEmail"
						name="newEmail" placeholder="输入邮箱" />
				</div>
			</div>
			<div class="row">
				<span>密码:</span>
				<div class="inputBox">
					<input type="password" class="txt" id="newPassword"
						name="newPassword" placeholder="密码" />
				</div>
			</div>
			<div class="row">
				<span>确认密码:</span>
				<div class="inputBox">
					<input type="password" class="txt" id="ConfPassword"
						name="ConfPassword" placeholder="确认密码" />
				</div>
			</div>
			<div class="row">
				<button type="submit" id="registerbtn">注册</button>
			</div>
<!-- 		</form> -->
		<div id="registerHint">
			注册成功，请<a href="javascript:void(0)" id="turnToLogin">登录</a>
		</div>
		<script type="text/javascript">
			$("#turnToLogin").on('click', function() {
				$("#RegisterBox").fadeOut(0);
				$("#LoginBox").fadeIn(0);
			})
		</script>
	</div>
	<script type="text/javascript">
		$(function($) {
			//弹出注册
			$("#registerBtn").hover(function() {
				$(this).stop().animate({
					opacity : '1'
				}, 600);
			}, function() {
				$(this).stop().animate({
					opacity : '0.6'
				}, 1000);
			}).on('click', function() {
				$("body").append("<div id='mask'></div>");
				$("#mask").addClass("mask").fadeIn("slow");
				$("#RegisterBox").fadeIn("slow");
			});
			//
			//按钮的透明度
			$("#registerbtn").hover(function() {
				$(this).stop().animate({
					opacity : '1'
				}, 600);
			}, function() {
				$(this).stop().animate({
					opacity : '0.8'
				}, 1000);
			});
			//关闭
			$(".close_btn").hover(function() {
				$(this).css({
					color : 'black'
				})
			}, function() {
				$(this).css({
					color : '#51A3BB'
				})
			}).on('click', function() {
				$("#RegisterBox").fadeOut("fast");
				$("#mask").css({
					display : 'none'
				});
			});
		});
		
		$("#registerbtn").on('click',function(){
			
			sendregisterContent($("#newAccount").val(),$("#newEmail").val(),$("#newPassword").val(),$("#ConfPassword").val());
		})
		function sendregisterContent(name,email,password,cpassword){
			alert(name+password);
// 			$.ajax("${pageContext.request.contextPath}/search/facade",
			$.ajax("customerRegister",
				// 发送请求的URL字符串
				{
					dataType : "json", //
					type: "post",      //
					contentType: "application/json",  //
					data: JSON.stringify({uname:name,uemail:email,upassword:password,cpassword:cpassword}),
					async:true,  //
					success: function(data){
						$("#username").css({display:'block'});
						$(".loginSucc").css({display:'none'});
						
						$("#p1").html(data.uname);
						
						$("#RegisterBox").fadeOut("fast");
						
						$("#mask").css({
							display : 'none'
						});
						alert("数据发送成功denglu");
					},
					error: function(){
						alert("数据发送失败denglu");
					}
				});
		}
	</script>
</body>
</html>